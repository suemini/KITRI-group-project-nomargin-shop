<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">-->
<!--<link rel="stylesheet" href="">-->
<!--<script src="/JS/cart.js" th:inline="javascript"></script>-->
<!--<th:block th:replace="fragments/head :: headFragment"></th:block>-->

<!--<body>-->
<!--<div class="container" id="wrapper">-->
<!--  <th:block th:replace="fragments/header :: headerFragment"></th:block>-->

<!--  <h1 th:text="|${#authentication.principal.username} 의 장바구니|">Shopping Cart</h1>-->
<!--  <table>-->
<!--    <thead>-->
<!--    <tr>-->
<!--      <th>No</th>-->
<!--      <th>Product Store</th>-->
<!--      <th>Product Type</th>-->
<!--      <th>Product Name</th>-->
<!--      <th>Product Price</th>-->
<!--      <th>Quantity</th>-->
<!--      <th>Total</th>-->
<!--      <th>Delete</th>-->
<!--    </tr>-->
<!--    </thead>-->
<!--    <tr th:each="cartItem, status: ${cartItemList}">-->
<!--      <td th:text="${status.count}"></td>-->
<!--      <td th:text="${cartItem.getItem().getItemStore()}"></td>-->
<!--      <td th:text="${cartItem.getItem().getItemType()}"></td>-->
<!--      <td th:text="${cartItem.getItem().getItemName()}"></td>-->
<!--      <td class="price" th:text="${#numbers.formatInteger(cartItem.getItem().getPrice(),0,'COMMA')} + ' 원'"></td>-->

<!--      <td>-->
<!--          <form th:action="@{/cart/update/{cartItemId}(cartItemId=${cartItem.getId()})}" method="post">-->
<!--              <input class="quantity" type="number" min="1" max="100000" name="amount" th:value="${cartItem.getCount()}">-->
<!--              <button class="btn btn-primary" type="submit">수량 변경</button>-->
<!--          </form>-->
<!--      </td>-->

<!--      <td class="subtotal" th:text="${#numbers.formatInteger(cartItem.getItem().getPrice() * cartItem.getCount(),0 ,'COMMA')} + ' 원'"></td>-->
<!--      <td>-->
<!--        <button class="btn btn-outline-secondary" th:onclick="|location.href='@{/cart/delete/{cartItemId}/(cartItemId=${cartItem.getId()})}'|" type="button"> Delete </button>-->
<!--      </td>-->
<!--  </table>-->

<!--    <form th:action="@{/cart/purchase}" method="post" id="cart-form">-->
<!--        <td colspan="6"></td>-->
<!--        <td th:text="| 총 금액: ${#numbers.formatInteger(totalPrice,0,'COMMA')} 원|">Total price</td>-->
<!--        <td class="total-amount"></td>-->
<!--        <td><button class="btn btn-primary" type="submit" >구매하기</button></td>-->
<!--    </form>-->

<!--</div>-->
<!--</body>-->
<!--</html>-->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<link rel="stylesheet" href="/CSS/cart.css">
<script src="/JS/cart.js" th:inline="javascript"></script>
<th:block th:replace="fragments/head :: headFragment"></th:block>


<!--<style>-->
<!--    /* Reset default styles */-->
<!--    * {-->
<!--        margin: 0;-->
<!--        padding: 0;-->
<!--        box-sizing: border-box;-->
<!--    }-->

<!--    /* Container styles */-->
<!--    .container {-->
<!--        max-width: 960px;-->
<!--        margin: 0 auto;-->
<!--        padding: 20px;-->
<!--    }-->

<!--    /* Table styles */-->
<!--    table {-->
<!--        width: 100%;-->
<!--        border-collapse: collapse;-->
<!--        margin-bottom: 20px;-->
<!--        border: 1px solid black;-->
<!--    }-->

<!--    table th,-->
<!--    table td {-->
<!--        padding: 10px;-->
<!--        text-align: left;-->
<!--        border-bottom: 1px solid black;-->
<!--    }-->

<!--    table th {-->
<!--        font-weight: bold;-->
<!--        background-color: black;-->
<!--        color: white;-->
<!--    }-->

<!--    /* Button styles */-->
<!--    .btn {-->
<!--        display: inline-block;-->
<!--        padding: 10px 20px;-->
<!--        background-color: #007bff;-->
<!--        color: #fff;-->
<!--        border: none;-->
<!--        cursor: pointer;-->
<!--        border-radius: 4px;-->
<!--        text-align: center;-->
<!--        text-decoration: none;-->
<!--        transition: background-color 0.3s;-->
<!--    }-->

<!--    .btn-primary {-->
<!--        background-color: black;-->
<!--    }-->

<!--    .btn-outline-secondary {-->
<!--        background-color: transparent;-->
<!--        color: black;-->
<!--        border: 1px solid black;-->
<!--    }-->

<!--    .btn:hover {-->
<!--        background-color: gray;-->
<!--    }-->

<!--    /* Typography */-->
<!--    h1 {-->
<!--        font-size: 24px;-->
<!--        margin-bottom: 20px;-->
<!--        color: black;-->
<!--    }-->

<!--    /* Form styles */-->
<!--    form {-->
<!--        display: inline-block;-->
<!--    }-->

<!--    input.quantity {-->
<!--        width: 60px;-->
<!--    }-->

<!--    /* Total amount */-->
<!--    .total-amount {-->
<!--        font-weight: bold;-->
<!--    }-->

<!--    /* Responsive styles */-->
<!--    @media (max-width: 768px) {-->
<!--        .container {-->
<!--            padding: 10px;-->
<!--        }-->

<!--        table {-->
<!--            font-size: 14px;-->
<!--        }-->

<!--        h1 {-->
<!--            font-size: 20px;-->
<!--        }-->
<!--    }-->
<!--</style>-->

<body>
<div class="container" id="wrapper">
    <th:block th:replace="fragments/header :: headerFragment"></th:block>
    <section class="order-list-section">
    <h1 class="order-list-table" th:text="|${#authentication.principal.username} 의 장바구니|">Shopping Cart</h1>
    <table>
        <thead>
        <tr>
            <th>No</th>
            <th>Product Store</th>
            <th>Product Type</th>
            <th>Product Name</th>
            <th>Product Price</th>
            <th>Quantity</th>
            <th>Total</th>
            <th>Delete</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="cartItem, status: ${cartItemList}">
            <td th:text="${status.count}"></td>
            <td th:text="${cartItem.getItem().getItemStore()}"></td>
            <td th:text="${cartItem.getItem().getItemType()}"></td>
            <td th:text="${cartItem.getItem().getItemName()}"></td>
            <td class="price" th:text="${#numbers.formatInteger(cartItem.getItem().getPrice(),0,'COMMA')} + ' 원'"></td>
            <td>
                <form th:action="@{/cart/update/{cartItemId}(cartItemId=${cartItem.getId()})}" method="post">
                    <input class="quantity" type="number" min="1" max="100000" name="amount" th:value="${cartItem.getCount()}">
                    <button class="on"  type="submit">수량 변경</button>
                </form>
            </td>
            <td class="subtotal" th:text="${#numbers.formatInteger(cartItem.getItem().getPrice() * cartItem.getCount(),0 ,'COMMA')} + ' 원'"></td>
            <td>
                <button class="on" th:onclick="|location.href='@{/cart/delete/{cartItemId}/(cartItemId=${cartItem.getId()})}'|" type="button">Delete</button>
            </td>
        </tr>
        </tbody>
        <tr>

            <td>

            </td>
            <td></td>
            <td colspan="8"></td>
        </tr>
        <tr>
            <div class="total-container">
            <td colspan="6"></td>
            <td class="total-result" th:text="| 총 금액: ${#numbers.formatInteger(totalPrice,0,'COMMA')} 원|">Total price</td>

            <td>
                <form class="bb" th:action="@{/cart/purchase}" method="post" id="cart-form">
                    <button class="mybutton" type="submit">구매하기</button>
                </form>
            </td>
            </div>
        </tr>
    </table>

    </section>
</div>
</body>
</html>

